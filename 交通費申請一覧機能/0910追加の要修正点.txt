9/10プラスアルファで必要な変更点

②　☑【ほぼ全てのメソッドに「ログイン社員IDの存在確認」処理が入っています。】
☑ファイル名のリネーム…
詳細設計書_ユーザマスタ_サービス.xlsx　から、
詳細設計書_サービス基底クラス.xlsxに変更

☑クラス種別を「abstract class」 クラス名を「サービス基底クラス」とする。
あとは、呼び出したいサービスの継承クラスに「サービス基底クラス」を追加すればOKです。

ーーーーーーーーーーーーーーーーーーーーーーー

【交通費申請サービス】
サービスで結合にあたる処理を行うという方法の、
結合にあたる詰め替えの実際の処理

・Mapを使用して

・処理内容を抽象化して記載する
☑初期表示データ取得交通費申請一覧
☑項目検索交通費申請情報
①☑申請年取得

ーーーーーーーーーーーーーーーーーーーーーーーーーーーー

【コードマスタサービス】
□コードマスタのデータ取得方法

・現在、コードマスタから取得したコード分類に基づき、コードと表示名を取得していますが、そのメソッドはパラメータが固定されている。
これからは他の機能でも利用できるように、引数を動的に指定できる形に変える

・1.引数にコード分類（例えば "地域コード", "部門コード" など）を受け取る。
2.各分類に対して、コードマスタを検索し、該当するコードと表示名のセットを取得。
3.それらをリストとしてまとめ、最終的にマップに分類ごとに格納して返す。


ーーーーーーーーーーーーーーーーーーーーーーーー

申請年取得
③　□引数にFrom、Toを増やす。
　※Toは今のところ必須ではないが、特定の年だけを抽出したい場合を考慮して追加する
・メインクエリの抽出条件にFromがNULLでなければFromを追加する。ToがNULLでなければToを追加する。

・Propertiesファイルを新規に作成する。
Propertiesファイルに「最低表示年数」を設定し、5とする。
※プロパティの設計書は新規に作りたいけど…作る時間が無いので後回しで良いです。

□呼び出し側の処理
・プロパティファイルから「最低表示年数」を取得する。
・業務日付から「最低表示年数」を引き算した年の1月1日を求め、【申請年取得】メソッドの
Fromへ指定する。
　※労務管理の5年保持（この処理では抽出対象ですが）はクリアできる認識。

□FromとToを追加して、申請年の範囲を指定できるようにする。
□クエリで、FromとToを使って範囲を指定する（NULLチェックも行う）。
□Propertiesファイルに「最低表示年数」を設定し、業務日付から5年分のデータが取得されるように設定する。


レビューする側も量が多すぎると非常に負荷がかかるので、小出しで出してください。
希望としては、
・基底クラスだけ
・共通部品だけ
・マッパー（データアクセス）層だけ
・一画面に関わる機能（画面、コントローラ、サービスまで）のセット
対応が完了したものから上記の単位で依頼をしてもらえると助かります。
※指摘対応を行う順番、レビュー依頼する順番も、


ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
最後の指摘ですが、ファイル名を変えてください。
・「詳細設計書」はフォルダ名にする。ファイル名としない。
・「コントローラー」「サービス」「マッパー」（普通のJava案件なら「データアクセス」）は
　普通のJava案件に関わったことがある人なら詳細設計書なのはすぐに分かる。
・「コントローラー」は画面とセットの処理なので、「画面名」が命名される。
・「サービス」は業務ロジックの処理なので、「業務名」が命名される。
　※呼び出し元がコントローラーとは限らない、バッチから呼び出す場合もあるため
・「マッパー」はDBのテーブルに対する処理なので、「テーブル名」が命名される。
　※マッパーは画面・サービスの処理とは無関係。「画面名」も「サービス名」も不要。

上記がJava案件での設計書名の暗黙ルールとなっています。
上記を当てはめると以下のようにファイル名が変わると思います。

詳細設計書_交通費申請一覧画面_画面設計書_WEB対応.xlsx　→　画面設計書_交通費申請一覧画面.xlsx
詳細設計書_交通費申請一覧画面_コントローラ.xlsx　→　コントローラー設計書_交通費申請一覧画面.xlsx
詳細設計書_交通費申請一覧画面_サービス.xlsx　→　サービス設計書_交通費申請一覧.xlsx　　※「画面」はつけない
詳細設計書_コードマスタ_サービス.xlsx　→　サービス設計書_コードマスタ.xlsx
詳細設計書_ユーザマスタ_サービス.xlsx　→　サービス設計書_ユーザマスタ.xlsx
詳細設計書_交通費申請一覧画面_マッパー.xlsx　→　マッパー設計書_交通費申請.xlsx　　※「一覧画面」はつけない
詳細設計書_コードマスタ_マッパー.xlsx　→　マッパー設計書_コードマスタ.xlsx
詳細設計書_ユーザマスタ_マッパー.xlsx　→　マッパー設計書_ユーザマスタ.xlsx

共通部品はコントローラー、サービス、マッパーのどれでも無いので、そのままとします。
詳細設計書_共通部品クラス.xlsx

上記のファイル名の修正は最後（すべての指摘対応の終了後）で良いです。
設計書はGitで管理していると思いますが、gitで管理されたファイルのファイル名の修正は
正しい手順でリネームしないと履歴が途切れます（フォルダの移動も同様）
詳細は「git リネーム」「git フォルダ移動」等で調べてみてください。
